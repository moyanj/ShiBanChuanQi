# 角色技能设计基本准则

本准则旨在为设计和实现角色技能提供一套标准化的框架，确保技能的清晰度、平衡性和可扩展性。所有技能设计都应遵循以下原则，以维护游戏的整体战斗体验。

## 一、技能类型与成本结构

每个角色都拥有三种核心技能：普通攻击、技能攻击和绝招。它们的成本和威力呈梯度上升，为玩家提供基础的战斗节奏与策略选择。

| 技能类型 | 能量消耗 | 伤害基准倍率 | 设计定位 |
| :--- | :--- | :--- | :--- |
| **普通攻击 (General)** | 0 | 1.0x ATK | 无成本的稳定输出手段，通常为单体伤害。 |
| **技能攻击 (Skill)** | 1 | 2.0x - 2.2x ATK | 消耗能量以换取更高伤害或附加效果，是战斗中的主要策略点。 |
| **绝招 (Super)** | 3 | 3.5x - 5.0x ATK | 消耗大量能量的终极技能，通常具备改变战局的能力，如高额范围伤害、强力团队增益等。 |

## 二、技能目标范围 (Target Scope)

技能的目标范围决定了其影响的单位。清晰的目标范围是技能策略性的重要组成部分。

- **`single` (单个目标)**
  - **描述**: 技能只影响一个选定的敌方或友方单位。
  - **应用**: 绝大多数的直接伤害和单体治疗技能。
  - **默认值**: 所有伤害技能的默认范围。

- **`all_enemies` (所有敌人)**
  - **描述**: 技能影响敌方全体单位。
  - **应用**: 主要用于范围伤害（AOE）绝招。为保证平衡，其伤害倍率通常会低于同级别的单体技能。

- **`all_allies` (所有友方)**
  - **描述**: 技能影响我方全体单位。
  - **应用**: 团队治疗、增益（Buff）和属性加成类技能的常用范围。

## 三、代价与权衡 (Trade-offs)

一个优秀的技能设计应包含明确的“代价与权衡”，以避免出现无风险高回报的“完美技能”。这不仅有助于平衡，也能塑造角色独特的战斗风格。

### 1. 自我伤害 (Self-Damage)
- **描述**: 角色通过牺牲自身一部分生命值来换取更高的伤害输出或强大的效果。
- **案例**: **范师傅 (FanShiFu)** 的技能会消耗20%当前生命值，但造成200%攻击力的伤害，其绝招更是消耗75%生命值造成毁灭性打击。

### 2. 资源消耗 (Resource Consumption)
- **描述**: 技能的释放或强化需要消耗特定战斗中积累的资源，如“光环”或“松果”。
- **案例**: **陈哥 (ChenGe)** 通过普通攻击积攒“光环”，其技能和绝招的效果则与“光环”数量直接挂钩。

### 3. 自我减益 (Self-Debuff)
- **描述**: 角色为团队带来巨大增益的同时，自身会承受一个负面效果作为代价。
- **案例**: **总统 (ZongTong)** 的绝招能为全队提供持续3回合的速度加成，但代价是自身防御力大幅降低。

## 四、状态效果 (Status Effects)

状态效果是为战斗增加动态变化和策略深度的重要机制，分为增益（Buff）和减益（Debuff）两类。

- **核心属性**: `atk`, `def`, `speed`, `hp` (可被直接修改的数值)。
- **持续时间**: 以“回合”为单位，每当效果持有者行动结束时，持续时间减一。
- **施加方式**: 通过 `apply_effect()` 方法施加，需指定效果ID、名称、类型、目标属性、数值和持续时间。
- **叠加规则**:
  - 默认情况下，相同ID的效果会刷新持续时间，而不会叠加数值。
  - 特殊情况下，可设计能够叠加的效果，但这需要谨慎处理以防数值失控。

所有状态效果的设计都应直观易懂，避免过于复杂的结算逻辑，让玩家能够清晰地预判其影响。
