# 角色数值平衡教程

数值平衡是确保游戏长期可玩性的核心。本教程基于 `src/js/characters/base.ts` 的底层逻辑。

## 1. 基础公式 (Damage Formula)
本系统采用的是 **减法防御模型**：
`实际伤害 = (技能倍率 * 缩放属性) - 敌方防御力`

*   **技能倍率**：由 `definitions.ts` 中的具体方法返回。
*   **缩放属性**：默认为攻击力 (ATK)，部分角色可加入生命值 (HP) 等。
*   **防御力**：固定减免伤害，后期防御力的提升对多段小额伤害的压制效果更明显。

## 2. 属性成长曲线
在 `Character` 基类中，等级成长遵循以下逻辑：

| 属性 | 基础值 | 成长规律 | 特点 |
| :--- | :--- | :--- | :--- |
| **HP** | 500 | `base + 120*lvl + 15*lvl^1.25` | 增长最快，确保生存空间 |
| **ATK** | 100 | `base + 25*lvl + 4*lvl^1.15` | 稳步增长，决定输出上限 |
| **DEF** | 50 | `base + 15*lvl + 2*lvl^1.1` | 增长最慢，防止中后期出现“刮痧” |

## 3. 混合缩放的权重控制
如果你希望角色的伤害与 HP 挂钩（如坦克或半肉角色），请务必控制 HP 的转换系数：

*   **黄金法则**：`15% HP` 的价值约等于 `80% ATK`。
*   **建议方案**：不要使用纯 HP 缩放（如 `return this.hp * 0.4`），建议采用混合模式：
    *   `return this.hp * 0.12 + this.atk * 0.4` (综合型)
    *   这能确保攻击力依然是有意义的属性。

## 4. 辅助与治疗平衡
*   **治疗倍率**：治疗通常不计敌方防御，因此倍率应略低于攻击倍率。
    *   普攻回复：20% ATK 或 5% MaxHP。
    *   战技回复：100% ATK 或 15% MaxHP。
    *   爆发技回复：200% ATK 或 30% MaxHP。
*   **增益强度**：
    *   攻击/速度提升：20% 为标准，50% 为强力。
    *   持续时间：通常为 2-3 个行动回合。

## 5. 平衡性检查列表
1.  **同等级对比**：新角色在 1 级、25 级、50 级时的伤害输出是否与现有同定位角色持平？
2.  **战技点效率**：消耗 1 点战技点带来的收益是否显著优于普攻？
3.  **生存能力**：高输出角色是否由于基础 HP 较低而容易被秒杀？
4.  **机制覆盖**：该角色的加入是否让之前的某种战术彻底失效？
